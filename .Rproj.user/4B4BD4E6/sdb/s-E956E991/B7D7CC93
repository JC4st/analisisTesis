{
    "collab_server" : "",
    "contents" : "---\ntitle: \"R Notebook\"\noutput: html_notebook\n---\n\nThis is an [R Ma---\ntitle: \"VIRSTA\"\noutput:\n  html_notebook: default\n  html_document: default\n  pdf_document: default\n---\n```{r include = FALSE}\n# Paso 1: Source + library  ####\n\nlibrary(\"e1071\")\nlibrary(\"dplyr\")\nlibrary(\"xlsx\")\nlibrary(\"pastecs\")\nlibrary(\"OptimalCutpoints\")\nlibrary(\"ggplot2\")\nlibrary(\"lubridate\")\nlibrary(\"readxl\")\nlibrary(\"psych\")\nlibrary(\"gmodels\")\nlibrary(\"openintro\")\nsuppressPackageStartupMessages(library(\"dplyr\"))\n```\n\n\n\n```{r include = FALSE}\n# Paso 2 obtencion de datos\n\nlibrary(readxl)\nbase <- read_excel(\"~/OneDrive - Universidad del rosario/projects/Tesis/base.xlsx\", \n    col_types = c(\"text\", \"text\", \"numeric\", \n        \"text\", \"numeric\", \"numeric\", \"numeric\", \n        \"text\", \"text\", \"text\", \"text\", \"text\", \n        \"text\", \"text\", \"text\", \"text\", \"text\", \n        \"numeric\", \"numeric\", \"numeric\", \n        \"numeric\", \"numeric\", \"text\", \"text\", \n        \"text\", \"text\", \"text\", \"text\", \"text\", \n        \"text\", \"text\", \"date\", \"text\", \"numeric\", \n        \"numeric\", \"numeric\", \"numeric\", \n        \"numeric\", \"numeric\", \"numeric\", \n        \"numeric\", \"numeric\", \"numeric\", \n        \"numeric\", \"numeric\", \"numeric\", \n        \"text\", \"text\", \"numeric\", \"numeric\", \n        \"text\", \"date\", \"numeric\", \"date\", \n        \"text\", \"date\", \"date\"))\nView(base)\n\ndatos <- as.data.frame(base)\n\ndatos <- datos[sapply(datos, function(datos) !any(is.na(datos)))]\n\n```\n\n#Limpiar datos\n##Ver las primeras 6 filas\n```{r}\n# View the first 6 rows of data\nhead(datos)\n\n```\n\n##Ver las ultimas 6 filas\n```{r}\n#  View the last 6 rows of data\ntail(datos)\n\n```\n\n##Ver un resumen condensado de los datos\n```{r}\n#  View a condensed summary of the data\nglimpse(datos)\n\n```\n\n##Ver la clase\n```{r}\n# View its class\nclass(datos) #data.frame\n```\n\n##Dimensiones\n```{r}\n\n# view dimensions\ndim(datos) # Rows Columns\n```\n\n## Nombre de las variables\n```{r include = TRUE}\n# #Look at column names\nnames(datos)\n```\n\n```{r include = FALSE}\n\ncharacters <- sapply(datos, is.character)\ndatos[characters] <- lapply(datos[characters], as.factor)\n\n# datos$ascitis <- ordered(datos$ascitis,\n#                          levels = c(\"NO\",\n#                                     \"Grado 1: Leve\", \n#                                     \"Grado 2: Moderada\", \n#                                     \"Grado 3: Severa\")\n#                           labels = c(\"NO\",\n#                                      \"Grado 1: Leve\", \n#                                      \"Grado 2: Moderada\", \n#                                      \"Grado 3: Severa\")\n#                          )\n\n```\n\n```{r include = FALSE}\n# Ordenar niveles \n\n\n\n```\n\n\n##Ver resumen\n```{r include = TRUE}\n# # view a summary\ndescriptivoCategorico <- summary(datos)\ndescriptivoCategorico\n\nwrite.xlsx(descriptivoCategorico, \n           \"/Users/Juan/OneDrive - Universidad del rosario/projects/Tesis/resultados/descriptivoCategorico.xlsx\",\n           sheetName = \"puntosDeCorte\",\n           append = FALSE)\n\ndescriptivoContinuo <- describe(datos)\ndescriptivoContinuo\n\nwrite.xlsx(descriptivoContinuo, \n           \"/Users/Juan/OneDrive - Universidad del rosario/projects/Tesis/resultados/descriptivoContinuo.xlsx\",\n           sheetName = \"puntosDeCorte\",\n           append = FALSE)\n```\n\nDescriptivo por LRA\n```{r}\ndescriptivoLRA <- describe.by(datos, datos$LRA)\ndescriptivoLRA\n\nwrite.xlsx(descriptivoLRA$NO, \n           \"/Users/Juan/OneDrive - Universidad del rosario/projects/Tesis/resultados/descriptivoLRA.xlsx\",\n           sheetName = \"NO\",\n           append = FALSE)\nwrite.xlsx(descriptivoLRA$SI, \n           \"/Users/Juan/OneDrive - Universidad del rosario/projects/Tesis/resultados/descriptivoLRA.xlsx\",\n           sheetName = \"SI\",\n           append = TRUE)\n```\n\n\n```{r }\nfrequenciesCrosstabs <- function( dependiente = dependiente, independiente = independiente ) \n{\n      library(gmodels)\n      dependiente.independiente <- table(independiente, dependiente)\n      dependiente.independiente <- addmargins(dependiente.independiente) # Adding row/col margins\n      tabla <- CrossTable(independiente, dependiente, format=c(\"SPSS\"), digits=1)\n      chi2 <- chisq.test(dependiente.independiente) # Do chisq test Ho: no relathionship\n      #fisher <- fisher.test(dependiente.independiente) # Do fisher'exact test Ho: no relationship\n      x <- list(tabla, chi2 )\n      names(x) <- c(\"tabla\", \"chi2\")\n      x\n}\n\nfrequenciesCrosstabs(datos$LRA, datos$HTA)\nfrequenciesCrosstabs(datos$LRA, datos$DM)\nfrequenciesCrosstabs(datos$LRA, datos$EPOC)\nfrequenciesCrosstabs(datos$LRA, datos$ERC)\nfrequenciesCrosstabs(datos$LRA, datos$cardiopatiaIsquemica)\nfrequenciesCrosstabs(datos$LRA, datos$valvulopatia)\nfrequenciesCrosstabs(datos$LRA, datos$enferemdadAutoinmune)\nfrequenciesCrosstabs(datos$LRA, datos$MELD)\nfrequenciesCrosstabs(datos$LRA, datos$hipotension)\nfrequenciesCrosstabs(datos$LRA, datos$soporteVasopresor)\n\n\n\n\n\n\n\n# LRA.HTA <- table(datos$LRA,datos$HTA)\n# LRA.HTA <- addmargins(LRA.HTA) # Adding row/col margins\n# CrossTable(datos$LRA,datos$HTA, format=c(\"SPSS\"), digits=1)\n# chisq.test(LRA.HTA) # Do chisq test Ho: no relathionship\n# fisher.test(LRA.HTA) # Do fisher'exact test Ho: no relationship\n# \n# LRA.DM <- table(datos$LRA,datos$DM)\n# LRA.DM <- addmargins(LRA.DM) # Adding row/col margins\n# CrossTable(datos$LRA,datos$DM, format=c(\"SPSS\"), digits=1)\n# chisq.test(LRA.DM) # Do chisq test Ho: no relathionship\n# fisher.test(LRA.DM) # Do fisher'exact test Ho: no relationship\n# \n# LRA.DM <- table(datos$LRA,datos$DM)\n# LRA.DM <- addmargins(LRA.DM) # Adding row/col margins\n# CrossTable(datos$LRA,datos$DM, format=c(\"SPSS\"), digits=1)\n# chisq.test(LRA.DM) # Do chisq test Ho: no relathionship\n# fisher.test(LRA.DM) # Do fisher'exact test Ho: no relationship\n```\n\n",
    "created" : 1515349747458.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2197943872",
    "id" : "B7D7CC93",
    "lastKnownWriteTime" : 1523670257,
    "last_content_update" : 1523670257304,
    "path" : "~/OneDrive - Universidad del rosario/projects/Tesis/analisisTesis/notebookTesis.Rmd",
    "project_path" : "notebookTesis.Rmd",
    "properties" : {
        "chunk_output_type" : "inline",
        "tempName" : "Untitled1"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}